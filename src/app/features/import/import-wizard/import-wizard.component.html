<!-- Step 1 â€” Upload -->
<section *ngIf="step === 'upload'">
  <div class="card">
    <div class="card-header">Step 1 â€” Upload</div>
    <div class="card-body">

      <!-- Pick from photos/files -->
      <input
        type="file"
        accept="image/*,.png,.jpg,.jpeg,.webp,.heic,.heif"
        multiple
        (change)="onFiles($event)" />

      <!-- Take a new photo (mobile opens camera; desktop shows picker) -->
      <input
        #cameraPicker
        type="file"
        accept="image/*"
        capture="environment"
        (change)="onFiles($event)"
        hidden />
      <div style="margin-top:8px;">
        <button class="btn" type="button" (click)="cameraPicker.click()">
          ðŸ“· Take photo
        </button>
      </div>

      <!-- Previews -->
      <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;">
        <img *ngFor="let im of images"
             [src]="im.url"
             alt="preview"
             style="height:80px; border-radius:6px; box-shadow:0 1px 3px rgba(0,0,0,.15)" />
      </div>

      <!-- Next -->
      <div style="display:flex; justify-content:flex-end; margin-top:12px;">
        <button class="btn" [disabled]="!images.length" (click)="step='ocr'">Next â†’ OCR</button>
      </div>

    </div>
  </div>
</section>
